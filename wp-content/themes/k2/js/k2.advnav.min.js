// jquery.bbq.js
(function($,p){var i,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,c,l,v,b=$.bbq=$.bbq||{},q,u,j,e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,h,C={};function E(F){return typeof F==="string"}function B(G){var F=m.call(arguments,1);return function(){return G.apply(this,F.concat(m.call(arguments)))}}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(H,M,F,I,G){var O,L,K,N,J;if(I!==i){K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);J=K[3]||"";if(G===2&&E(I)){L=I.replace(H?w:x,"")}else{N=l(K[2]);I=E(I)?l[H?D:A](I):I;L=G===2?I:G===1?$.extend({},I,N):$.extend({},N,I);L=a(L);if(H){L=L.replace(h,r)}}O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J}else{O=M(F!==i?F:p[g][k])}return O}a[A]=B(f,0,o);a[D]=c=B(f,1,n);c.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);h=new RegExp(F.join("|"),"g")};c.noEscape(",/");$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var K=Q.split("="),P=r(K[0]),J,O=H,M=0,R=P.split("]["),N=R.length-1;if(/\[/.test(R[0])&&/\]$/.test(R[N])){R[N]=R[N].replace(/\]$/,"");R=R.shift().split("[").concat(R);N=R.length-1}else{N=0}if(K.length===2){J=r(K[1]);if(F){J=J&&!isNaN(J)?+J:J==="undefined"?i:G[J]!==i?G[J]:J}if(N){for(;M<=N;M++){P=R[M]===""?O.length:R[M];O=O[P]=M<N?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J}}else{if($.isArray(H[P])){H[P].push(J)}else{if(H[P]!==i){H[P]=[H[P],J]}else{H[P]=J}}}}else{if(P){H[P]=F?i:""}}});return H};function z(H,F,G){if(F===i||typeof F==="boolean"){G=F;F=a[H?D:A]()}else{F=E(F)?F.replace(H?w:x,""):F}return l(F,G)}l[A]=B(z,0);l[D]=v=B(z,1);$[y]||($[y]=function(F){return $.extend(C,F)})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t});j=$[y];function s(I,G,H,F){if(!E(H)&&typeof H!=="object"){F=H;H=G;G=i}return this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";L.attr(J,a[I](K,H,F))})}$.fn[A]=B(s,A);$.fn[D]=B(s,D);b.pushState=q=function(I,F){if(E(I)&&/^#/.test(I)&&F===i){F=2}var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);p[g][k]=G+(/#/.test(G)?"":"#")};b.getState=u=function(F,G){return F===i||typeof F==="boolean"?v(F):v(G)[F]};b.removeState=function(F){var G={};if(F!==i){G=u();$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]})}q(G,2)};e[d]=$.extend(e[d],{add:function(F){var H;function G(J){var I=J[D]=c();J.getState=function(K,L){return K===i||typeof K==="boolean"?l(I,K):l(I,L)[K]};H.apply(this,arguments)}if($.isFunction(F)){H=F;return G}else{H=F.handler;F.handler=G}}})})(jQuery,this);
(function($,i,b){var j,k=$.event.special,c="location",d="hashchange",l="href",f=$.browser,g=document.documentMode,h=f.msie&&(g===b||g<8),e="on"+d in i&&!h;function a(m){m=m||i[c][l];return m.replace(/^[^#]*#?(.*)$/,"$1")}$[d+"Delay"]=100;k[d]=$.extend(k[d],{setup:function(){if(e){return false}$(j.start)},teardown:function(){if(e){return false}$(j.stop)}});j=(function(){var m={},r,n,o,q;function p(){o=q=function(s){return s};if(h){n=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;q=function(){return a(n.document[c][l])};o=function(u,s){if(u!==s){var t=n.document;t.open().close();t[c].hash="#"+u}};o(a())}}m.start=function(){if(r){return}var t=a();o||p();(function s(){var v=a(),u=q(t);if(v!==t){o(t=v,u);$(i).trigger(d)}else{if(u!==t){i[c][l]=i[c][l].replace(/#.*/,"")+"#"+u}}r=setTimeout(s,$[d+"Delay"])})()};m.stop=function(){if(!n){r&&clearTimeout(r);r=0}};return m})()})(jQuery,this);

// jquery.easing.js
jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});

// jquery.ui.js
jQuery.effects||function(f){function k(c){var a;if(c&&c.constructor==Array&&c.length==3)return c;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)];if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(c))return l.transparent;return l[f.trim(c).toLowerCase()]}function q(c,a){var b;do{b=f.curCSS(c,a);if(b!=""&&b!="transparent"||f.nodeName(c,"body"))break;a="backgroundColor"}while(c=c.parentNode);return k(b)}function m(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,
a={},b,d;if(c&&c.length&&c[0]&&c[c[0]])for(var e=c.length;e--;){b=c[e];if(typeof c[b]=="string"){d=b.replace(/\-(\w)/g,function(g,h){return h.toUpperCase()});a[d]=c[b]}}else for(b in c)if(typeof c[b]==="string")a[b]=c[b];return a}function n(c){var a,b;for(a in c){b=c[a];if(b==null||f.isFunction(b)||a in r||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b)))delete c[a]}return c}function s(c,a){var b={_:0},d;for(d in a)if(c[d]!=a[d])b[d]=a[d];return b}function j(c,a,b,d){if(typeof c=="object"){d=
a;b=null;a=c;c=a.effect}if(f.isFunction(a)){d=a;b=null;a={}}if(f.isFunction(b)){d=b;b=null}if(typeof a=="number"||f.fx.speeds[a]){d=b;b=a;a={}}a=a||{};b=b||a.duration;b=f.fx.off?0:typeof b=="number"?b:f.fx.speeds[b]||f.fx.speeds._default;d=d||a.complete;return[c,a,b,d]}f.effects={};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(c,a){f.fx.step[a]=function(b){if(!b.colorInit){b.start=q(b.elem,a);b.end=k(b.end);b.colorInit=
true}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var l={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,
183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,
165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.effects.animateClass=function(c,a,b,d){if(f.isFunction(b)){d=b;b=null}return this.each(function(){var e=f(this),g=e.attr("style")||" ",h=n(m.call(this)),p,t=e.attr("className");f.each(o,function(u,
i){c[i]&&e[i+"Class"](c[i])});p=n(m.call(this));e.attr("className",t);e.animate(s(h,p),a,b,function(){f.each(o,function(u,i){c[i]&&e[i+"Class"](c[i])});if(typeof e.attr("style")=="object"){e.attr("style").cssText="";e.attr("style").cssText=g}else e.attr("style",g);d&&d.apply(this,arguments)})})};f.fn.extend({_addClass:f.fn.addClass,addClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{add:c},a,b,d]):this._addClass(c)},_removeClass:f.fn.removeClass,removeClass:function(c,a,b,d){return a?
f.effects.animateClass.apply(this,[{remove:c},a,b,d]):this._removeClass(c)},_toggleClass:f.fn.toggleClass,toggleClass:function(c,a,b,d,e){return typeof a=="boolean"||a===undefined?b?f.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,d,e]):this._toggleClass(c,a):f.effects.animateClass.apply(this,[{toggle:c},a,b,d])},switchClass:function(c,a,b,d,e){return f.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e])}});f.extend(f.effects,{version:"1.8.2",save:function(c,a){for(var b=0;b<a.length;b++)a[b]!==
null&&c.data("ec.storage."+a[b],c[0].style[a[b]])},restore:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]))},setMode:function(c,a){if(a=="toggle")a=c.is(":hidden")?"show":"hide";return a},getBaseline:function(c,a){var b;switch(c[0]){case "top":b=0;break;case "middle":b=0.5;break;case "bottom":b=1;break;default:b=c[0]/a.height}switch(c[1]){case "left":c=0;break;case "center":c=0.5;break;case "right":c=1;break;default:c=c[1]/a.width}return{x:c,y:b}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();
var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},b=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(b);b=c.parent();if(c.css("position")=="static"){b.css({position:"relative"});c.css({position:"relative"})}else{f.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});f.each(["top","left","bottom","right"],function(d,e){a[e]=c.css(e);if(isNaN(parseInt(a[e],10)))a[e]="auto"});
c.css({position:"relative",top:0,left:0})}return b.css(a).show()},removeWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent().replaceWith(c);return c},setTransition:function(c,a,b,d){d=d||{};f.each(a,function(e,g){unit=c.cssUnit(g);if(unit[0]>0)d[g]=unit[0]*b+unit[1]});return d}});f.fn.extend({effect:function(c){var a=j.apply(this,arguments);a={options:a[1],duration:a[2],callback:a[3]};var b=f.effects[c];return b&&!f.fx.off?b.call(this,a):this},_show:f.fn.show,show:function(c){if(!c||
typeof c=="number"||f.fx.speeds[c])return this._show.apply(this,arguments);else{var a=j.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)}},_hide:f.fn.hide,hide:function(c){if(!c||typeof c=="number"||f.fx.speeds[c])return this._hide.apply(this,arguments);else{var a=j.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)}},__toggle:f.fn.toggle,toggle:function(c){if(!c||typeof c=="number"||f.fx.speeds[c]||typeof c=="boolean"||f.isFunction(c))return this.__toggle.apply(this,
arguments);else{var a=j.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a)}},cssUnit:function(c){var a=this.css(c),b=[];f.each(["em","px","%","pt"],function(d,e){if(a.indexOf(e)>0)b=[parseFloat(a),e]});return b}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(c,a,b,d,e){return f.easing[f.easing.def](c,a,b,d,e)},easeInQuad:function(c,a,b,d,e){return d*(a/=e)*a+b},easeOutQuad:function(c,a,b,d,e){return-d*(a/=e)*(a-2)+b},easeInOutQuad:function(c,
a,b,d,e){if((a/=e/2)<1)return d/2*a*a+b;return-d/2*(--a*(a-2)-1)+b},easeInCubic:function(c,a,b,d,e){return d*(a/=e)*a*a+b},easeOutCubic:function(c,a,b,d,e){return d*((a=a/e-1)*a*a+1)+b},easeInOutCubic:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a+b;return d/2*((a-=2)*a*a+2)+b},easeInQuart:function(c,a,b,d,e){return d*(a/=e)*a*a*a+b},easeOutQuart:function(c,a,b,d,e){return-d*((a=a/e-1)*a*a*a-1)+b},easeInOutQuart:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a+b;return-d/2*((a-=2)*a*a*a-2)+
b},easeInQuint:function(c,a,b,d,e){return d*(a/=e)*a*a*a*a+b},easeOutQuint:function(c,a,b,d,e){return d*((a=a/e-1)*a*a*a*a+1)+b},easeInOutQuint:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a*a+b;return d/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(c,a,b,d,e){return-d*Math.cos(a/e*(Math.PI/2))+d+b},easeOutSine:function(c,a,b,d,e){return d*Math.sin(a/e*(Math.PI/2))+b},easeInOutSine:function(c,a,b,d,e){return-d/2*(Math.cos(Math.PI*a/e)-1)+b},easeInExpo:function(c,a,b,d,e){return a==0?b:d*Math.pow(2,
10*(a/e-1))+b},easeOutExpo:function(c,a,b,d,e){return a==e?b+d:d*(-Math.pow(2,-10*a/e)+1)+b},easeInOutExpo:function(c,a,b,d,e){if(a==0)return b;if(a==e)return b+d;if((a/=e/2)<1)return d/2*Math.pow(2,10*(a-1))+b;return d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(c,a,b,d,e){return-d*(Math.sqrt(1-(a/=e)*a)-1)+b},easeOutCirc:function(c,a,b,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+b},easeInOutCirc:function(c,a,b,d,e){if((a/=e/2)<1)return-d/2*(Math.sqrt(1-a*a)-1)+b;return d/2*(Math.sqrt(1-(a-=2)*
a)+1)+b},easeInElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g))+b},easeOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*e-c)*2*Math.PI/g)+d+b},easeInOutElastic:function(c,
a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e/2)==2)return b+d;g||(g=e*0.3*1.5);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);if(a<1)return-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)+b;return h*Math.pow(2,-10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)*0.5+d+b},easeInBack:function(c,a,b,d,e,g){if(g==undefined)g=1.70158;return d*(a/=e)*a*((g+1)*a-g)+b},easeOutBack:function(c,a,b,d,e,g){if(g==undefined)g=1.70158;return d*((a=a/e-1)*a*((g+1)*a+g)+1)+b},easeInOutBack:function(c,
a,b,d,e,g){if(g==undefined)g=1.70158;if((a/=e/2)<1)return d/2*a*a*(((g*=1.525)+1)*a-g)+b;return d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},easeInBounce:function(c,a,b,d,e){return d-f.easing.easeOutBounce(c,e-a,0,d,e)+b},easeOutBounce:function(c,a,b,d,e){return(a/=e)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},easeInOutBounce:function(c,a,b,d,e){if(a<e/2)return f.easing.easeInBounce(c,a*2,0,
d,e)*0.5+b;return f.easing.easeOutBounce(c,a*2-e,0,d,e)*0.5+d*0.5+b}})}(jQuery);
;
(function(b){b.effects.highlight=function(c){return this.queue(function(){var a=b(this),e=["backgroundImage","backgroundColor","opacity"],d=b.effects.setMode(a,c.options.mode||"show"),f={backgroundColor:a.css("backgroundColor")};if(d=="hide")f.opacity=0;b.effects.save(a,e);a.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){d=="hide"&&a.hide();b.effects.restore(a,e);d=="show"&&!b.support.opacity&&
this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
;
(function(c){c.effects.puff=function(b){return this.queue(function(){var a=c(this),e=c.effects.setMode(a,b.options.mode||"hide"),g=parseInt(b.options.percent,10)||150,h=g/100,i={height:a.height(),width:a.width()};c.extend(b.options,{fade:true,mode:e,percent:e=="hide"?g:100,from:e=="hide"?i:{height:i.height*h,width:i.width*h}});a.effect("scale",b.options,b.duration,b.callback);a.dequeue()})};c.effects.scale=function(b){return this.queue(function(){var a=c(this),e=c.extend(true,{},b.options),g=c.effects.setMode(a,
b.options.mode||"effect"),h=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:g=="hide"?0:100),i=b.options.direction||"both",f=b.options.origin;if(g!="effect"){e.origin=f||["middle","center"];e.restore=true}f={height:a.height(),width:a.width()};a.from=b.options.from||(g=="show"?{height:0,width:0}:f);h={y:i!="horizontal"?h/100:1,x:i!="vertical"?h/100:1};a.to={height:f.height*h.y,width:f.width*h.x};if(b.options.fade){if(g=="show"){a.from.opacity=0;a.to.opacity=1}if(g=="hide"){a.from.opacity=
1;a.to.opacity=0}}e.from=a.from;e.to=a.to;e.mode=g;a.effect("size",e,b.duration,b.callback);a.dequeue()})};c.effects.size=function(b){return this.queue(function(){var a=c(this),e=["position","top","left","width","height","overflow","opacity"],g=["position","top","left","overflow","opacity"],h=["width","height","overflow"],i=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],k=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=c.effects.setMode(a,
b.options.mode||"effect"),n=b.options.restore||false,m=b.options.scale||"both",l=b.options.origin,j={height:a.height(),width:a.width()};a.from=b.options.from||j;a.to=b.options.to||j;if(l){l=c.effects.getBaseline(l,j);a.from.top=(j.height-a.from.height)*l.y;a.from.left=(j.width-a.from.width)*l.x;a.to.top=(j.height-a.to.height)*l.y;a.to.left=(j.width-a.to.width)*l.x}var d={from:{y:a.from.height/j.height,x:a.from.width/j.width},to:{y:a.to.height/j.height,x:a.to.width/j.width}};if(m=="box"||m=="both"){if(d.from.y!=
d.to.y){e=e.concat(f);a.from=c.effects.setTransition(a,f,d.from.y,a.from);a.to=c.effects.setTransition(a,f,d.to.y,a.to)}if(d.from.x!=d.to.x){e=e.concat(k);a.from=c.effects.setTransition(a,k,d.from.x,a.from);a.to=c.effects.setTransition(a,k,d.to.x,a.to)}}if(m=="content"||m=="both")if(d.from.y!=d.to.y){e=e.concat(i);a.from=c.effects.setTransition(a,i,d.from.y,a.from);a.to=c.effects.setTransition(a,i,d.to.y,a.to)}c.effects.save(a,n?e:g);a.show();c.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);
if(m=="content"||m=="both"){f=f.concat(["marginTop","marginBottom"]).concat(i);k=k.concat(["marginLeft","marginRight"]);h=e.concat(f).concat(k);a.find("*[width]").each(function(){child=c(this);n&&c.effects.save(child,h);var o={height:child.height(),width:child.width()};child.from={height:o.height*d.from.y,width:o.width*d.from.x};child.to={height:o.height*d.to.y,width:o.width*d.to.x};if(d.from.y!=d.to.y){child.from=c.effects.setTransition(child,f,d.from.y,child.from);child.to=c.effects.setTransition(child,
f,d.to.y,child.to)}if(d.from.x!=d.to.x){child.from=c.effects.setTransition(child,k,d.from.x,child.from);child.to=c.effects.setTransition(child,k,d.to.x,child.to)}child.css(child.from);child.animate(child.to,b.duration,b.options.easing,function(){n&&c.effects.restore(child,h)})})}a.animate(a.to,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){a.to.opacity===0&&a.css("opacity",a.from.opacity);p=="hide"&&a.hide();c.effects.restore(a,n?e:g);c.effects.removeWrapper(a);b.callback&&
b.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
;
(function(c){c.effects.slide=function(d){return this.queue(function(){var a=c(this),h=["position","top","left"],e=c.effects.setMode(a,d.options.mode||"show"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a).css({overflow:"hidden"});var f=b=="up"||b=="down"?"top":"left";b=b=="up"||b=="left"?"pos":"neg";var g=d.options.distance||(f=="top"?a.outerHeight({margin:true}):a.outerWidth({margin:true}));if(e=="show")a.css(f,b=="pos"?-g:g);var i={};i[f]=(e=="show"?b=="pos"?
"+=":"-=":b=="pos"?"-=":"+=")+g;a.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){e=="hide"&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
;

// k2.slider.js
function K2Slider(d,a,c){var b=this;this.handle=jQuery(d);this.track=jQuery(a);this.options=c||{};this.value=this.options.value||0;this.maximum=this.options.maximum||1;this.minimum=this.options.minimum||0;this.trackLength=this.track.width();this.handleLength=this.handle.width();this.handle.css("position","absolute");this.active=false;this.dragging=false;this.setValue(this.value);this.handle.mousedown(function(e){b.active=true;var g=b.pointerX(e);var f=b.track.offset();b.setValue(b.translateToValue(g-f.left-(b.handleLength/2)));
var f=b.handle.offset();b.offsetX=(g-f.left)});this.track.mousedown(function(e){var g=b.track.offset();var f=b.pointerX(e);b.setValue(b.translateToValue(f-g.left-(b.handleLength/2)))});jQuery(document).mouseup(function(e){if(b.active&&b.dragging){b.active=false;b.dragging=false;b.updateFinished(b)}b.dragging=false;b.active=false});jQuery(document).mousemove(function(e){if(b.active){if(!b.dragging){b.dragging=true}b.draw(e);if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0)}}});
this.initialized=true}K2Slider.prototype.getNearestValue=function(a){if(a>this.maximum){return this.maximum}if(a<this.minimum){return this.minimum}return a};K2Slider.prototype.setValue=function(a){this.value=this.getNearestValue(a);this.handle.css("left",this.translateToPx(this.value));if(!this.dragging||!this.event){this.updateFinished(this)}};K2Slider.prototype.setValueBy=function(a){this.setValue(this.value+a)};K2Slider.prototype.translateToPx=function(a){return Math.round(((this.trackLength-this.handleLength)/(this.maximum-this.minimum))*(a-this.minimum))+"px"
};K2Slider.prototype.translateToValue=function(a){return Math.round(((a/(this.trackLength-this.handleLength)*(this.maximum-this.minimum))+this.minimum))};K2Slider.prototype.draw=function(a){var c=this.pointerX(a);var b=this.track.offset();c-=this.offsetX+b.left;this.event=a;this.setValue(this.translateToValue(c));if(this.initialized&&this.options.onSlide){this.options.onSlide(this.value)}};K2Slider.prototype.updateFinished=function(a){if(a.initialized&&a.options.onChange){a.options.onChange(a.value)
}a.event=null};K2Slider.prototype.pointerX=function(a){return a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))};K2Slider.prototype.isLeftClick=function(a){return(((a.which)&&(a.which==1))||((a.button)&&(a.button==1)))};

// jquery.hotkeys.js
(function(jQuery){jQuery.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":"\"",",":"<",".":">","/":"?","\\":"|"}};function keyHandler(handleObj){if(typeof handleObj.data!=="string"){return;}
var origHandler=handleObj.handler,keys=handleObj.data.toLowerCase().split(" ");handleObj.handler=function(event){if(this!==event.target&&(/textarea|select/i.test(event.target.nodeName)||event.target.type==="text")){return;}
var special=event.type!=="keypress"&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),key,modif="",possible={};if(event.altKey&&special!=="alt"){modif+="alt+";}
if(event.ctrlKey&&special!=="ctrl"){modif+="ctrl+";}
if(event.metaKey&&!event.ctrlKey&&special!=="meta"){modif+="meta+";}
if(event.shiftKey&&special!=="shift"){modif+="shift+";}
if(special){possible[modif+special]=true;}else{possible[modif+character]=true;possible[modif+jQuery.hotkeys.shiftNums[character]]=true;if(modif==="shift+"){possible[jQuery.hotkeys.shiftNums[character]]=true;}}
for(var i=0,l=keys.length;i<l;i++){if(possible[keys[i]]){return origHandler.apply(this,arguments);}}};}
jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:keyHandler};});})(jQuery);

// k2.rollingarchives.js
function RollingArchives(b){RA=this;RA.content=b.content;RA.posts=b.posts;RA.parent=b.parent;RA.offsetTop=b.offset||0;RA.cache=new Array();RA.cacheDepth=b.cachedepth||5;RA.pageText=b.pagetext||"of";var c=b.older||"Older";var a=b.newer||"Newer";var d=b.loading||"Loading";jQuery(RA.content).before('		<div id="rollingarchivesbg"></div>		<div id="rollingarchives">			<div id="rollnavigation">				<div id="pagetrackwrap"><div id="pagetrack"><div id="pagehandle"><div id="rollhover"><div id="rolldates"></div></div></div></div></div>								<div id="rollpages"></div>								<a id="rollprevious" title="'+c+'" href="#"><span>&laquo;</span> '+c+'</a>				<div id="rollload" title="'+d+'"><span>'+d+'</span></div>				<a id="rollnext" title="'+a+'" href="#">'+a+' <span>&raquo;</span></a>								<div id="texttrimmer">					<div id="trimmertrim"><span>&raquo;&nbsp;&laquo;</span></div>					<div id="trimmeruntrim"><span>&laquo;&nbsp;&raquo;</span></div>				</div>			</div> <!-- #rollnavigation -->		</div> <!-- #rollingarchives -->	');
RA.setState(b.pagenumber,b.pagecount,b.query,b.pagedates);RA.saveState();jQuery("#rollnext").click(function(){RA.pageSlider.setValueBy(1);return false});jQuery("#rollprevious").click(function(){RA.pageSlider.setValueBy(-1);return false});jQuery("#trimmertrim, #trimmeruntrim").click(function(){if(K2.Animations){jQuery(".entry-content").slideToggle(250,"easeOutExpo")}jQuery("body").toggleClass("trim")});RA.assignHotkeys();jQuery("body").addClass("rollingarchives");RA.smartPosition(RA.parent)}RollingArchives.prototype.setState=function(a,c,b,d){RA.pageNumber=a;
RA.pageCount=c;RA.query=b;RA.pageDates=d;if(RA.validatePage(RA.pageNumber)){jQuery("body").removeClass("hiderollingarchives").addClass("showrollingarchives");jQuery("#rollingarchives").show();jQuery("#rollload, #rollhover").hide();RA.pageSlider=new K2Slider("#pagehandle","#pagetrackwrap",{minimum:1,maximum:RA.pageCount,value:RA.pageCount-RA.pageNumber+1,onSlide:function(e){jQuery("#rollhover").show();RA.updatePageText(RA.pageCount-e+1)},onChange:function(e){RA.updatePageText(RA.pageCount-e+1);RA.gotoPage(RA.pageCount-e+1)
}});RA.updatePageText(RA.pageNumber)}else{jQuery("body").removeClass("showrollingarchives").addClass("hiderollingarchives")}RA.resetCache()};RollingArchives.prototype.saveState=function(){RA.prevPageNumber=RA.pageNumber;RA.prevPageCount=RA.pageCount;RA.prevQuery=RA.query;RA.prevPageDates=RA.pageDates;RA.prevContent=jQuery(RA.content).html()};RollingArchives.prototype.restoreState=function(){if(RA.prevContent!=""){jQuery("body").removeClass("livesearchactive").addClass("livesearchinactive");jQuery(RA.content).html(RA.prevContent);
jQuery.bbq.pushState("#page="+RA.prevPageNumber);RA.setState(RA.prevPageNumber,RA.prevPageCount,RA.prevQuery,RA.prevPageDates)}};RollingArchives.prototype.updatePageText=function(a){jQuery("#rollpages").html(a+" "+RA.pageText+" "+RA.pageCount);jQuery("#rolldates").html(RA.pageDates[a-1])};RollingArchives.prototype.validatePage=function(a){var a=parseInt(a);if(!isNaN(a)&&RA.pageCount>1){if(a>=RA.pageCount){jQuery("body").removeClass("onepageonly firstpage nthpage").addClass("lastpage");return RA.pageCount
}else{if(a<=1){jQuery("body").removeClass("onepageonly nthpage lastpage").addClass("firstpage");return 1}else{jQuery("body").removeClass("onepageonly firstpage lastpage").addClass("nthpage");return a}}}jQuery("body").removeClass("firstpage nthpage lastpage").addClass("onepageonly");return 0};RollingArchives.prototype.loading=function(a){if(a=="start"){jQuery("body").addClass("rollload")}else{jQuery("body").removeClass("rollload")}};RollingArchives.prototype.gotoPage=function(b){var a=RA.validatePage(b);
if(a!=RA.pageNumber&&a!=0){RA.lastPage=RA.pageNumber;RA.pageNumber=a;jQuery.bbq.pushState("page="+a);RA.loading("start");if(K2.Animations){RA.flashElement(a>RA.lastPage?"#rollprevious":"#rollnext")}if(K2.Animations&&(RA.pageNumber!=1)&&jQuery("body").hasClass("smartposition")){jQuery("html,body").animate({scrollTop:jQuery(RA.parent).offset().top},100)}jQuery.extend(RA.query,{paged:RA.pageNumber,k2dynamic:1});if(RA.cache[RA.pageNumber]==undefined){K2.ajaxGet(RA.query,function(d){jQuery("#rollhover").fadeOut("slow");
RA.loading("stop");jQuery(RA.content).html(d)})}else{jQuery("#rollhover").fadeOut("slow");RA.loading("stop");jQuery(RA.content).html(RA.cache[RA.pageNumber])}RA.updateCache()}if(a==1){jQuery("body").removeClass("trim");var c=jQuery(window).scrollTop();jQuery.bbq.removeState("page");jQuery(window).scrollTop(c)}};RollingArchives.prototype.resetCache=function(){RA.cache=new Array()};RollingArchives.prototype.updateCache=function(){var d=RA.pageNumber-RA.cacheDepth;var c=RA.pageNumber+RA.cacheDepth;if(d<1){d=1
}if(c>RA.pageCount){c=RA.pageCount}for(var b=d;b<=c;b++){if(b==RA.pageNumber){continue}if(RA.cache[b]==undefined){jQuery.extend(RA.query,{paged:b,k2dynamic:1});(function(e){K2.ajaxGet(RA.query,function(f){RA.cache[e]=f})})(b)}}if(RA.cache.length>0){for(var a=0;a<RA.cache.length;a++){if(a>=(d-1)&&a<=(c+1)){continue}delete RA.cache[a]}}};RollingArchives.prototype.smartPosition=function(b,a){RA.parentTop=jQuery(b).offset().top;RA.smartPosClass="smartposition";if(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7){return
}if(a!="bottom"){setTimeout(RA.checkTop,100);jQuery(window).scroll(RA.checkTop)}else{setTimeout(RA.checkTop,100);jQuery(window).scroll(RA.checkBottom).resize(RA.checkBottom).onload(RA.checkBottom)}};RollingArchives.prototype.checkBottom=function(){if((document.documentElement.scrollTop+document.documentElement.clientHeight||document.body.scrollTop+document.documentElement.clientHeight)>=RA.parentTop&&jQuery("body").hasClass("showrollingarchives")){jQuery("body").addClass(RA.smartPosClass)}else{jQuery("body").removeClass(RA.smartPosClass)
}};RollingArchives.prototype.checkTop=function(){if(jQuery(document).scrollTop()>=RA.parentTop&&jQuery("body").hasClass("showrollingarchives")){jQuery("body").addClass(RA.smartPosClass)}else{jQuery("body").removeClass(RA.smartPosClass)}};RollingArchives.prototype.scrollTo=function(b,d,a){jQuery(window).unbind("scroll.scrolldetector");jQuery("html, body").stop();RA.nextIndex=(a!=undefined?a:RA.nextIndex);if(RA.nextIndex==undefined){jQuery(b).each(function(f){if(jQuery(this).offset().top-RA.offset>jQuery(window).scrollTop()){RA.nextIndex=(d===1?f-1:f);
return false}})}if(d===-1&&RA.pageNumber===1&&RA.nextIndex===0){return}RA.nextIndex=RA.nextIndex+d;if((RA.nextIndex>jQuery(b).length-1)||RA.nextIndex<0){RA.nextIndex=undefined;RA.pageSlider.setValueBy(-d);RA.flashElement(d===1?"#rollprevious":"#rollnext")}RA.nextElement=jQuery(b).eq(RA.nextIndex);var e=RA.nextElement.offset().top-RA.offset;var c=(jQuery.browser.safari)?jQuery("body"):jQuery("html");c.animate({scrollTop:e},(K2.Animations?150:0),"easeOutExpo",function(){RA.nextElement.effect("highlight",{color:"#dddddd"},1500)
})};RollingArchives.prototype.flashElement=function(b){if(jQuery(b+":animated").length>0||!K2.Animations){return}var a=parseInt(jQuery(b).css("font-size"));jQuery(b).animate({fontSize:a*2},0,"linear",function(){jQuery(b).animate({fontSize:a},150,"easeOutQuad")})};RollingArchives.prototype.assignHotkeys=function(){jQuery(document).bind("keydown.hotkeys","J",function(){RA.scrollTo(RA.posts,1)});jQuery(document).bind("keydown.hotkeys","K",function(){RA.scrollTo(RA.posts,-1)});jQuery(document).bind("keydown.hotkeys","Return",function(){if(jQuery(RA.nextElement).length>0){jQuery(RA.nextElement).stop(true,true).effect("highlight",{color:"#eee"},150).children(".entry-title a").click()
}});jQuery(document).bind("keydown.hotkeys","E",function(){if(jQuery(".selected").length>0){jQuery(".selected a.post-edit-link").click();RA.flashElement(".selected a.post-edit-link")}});jQuery(document).bind("keydown.hotkeys","Esc",function(){jQuery(window).unbind("scroll.scrolldetector");jQuery("*").removeClass("selected");RA.nextIndex=undefined});jQuery(document).bind("keydown.hotkeys","H",function(){RA.gotoPage(1)});jQuery(document).bind("keydown.hotkeys","T",function(){jQuery("#texttrimmer div:visible").click()
});jQuery(document).bind("keydown.hotkeys","Left",function(){RA.pageSlider.setValueBy(-1)});jQuery(document).bind("keydown.hotkeys","Right",function(){RA.pageSlider.setValueBy(1)})};

// k2.rollingarchives.js
function RollingArchives(b){RA=this;RA.content=b.content;RA.posts=b.posts;RA.parent=b.parent;RA.offsetTop=b.offset||0;RA.cache=new Array();RA.cacheDepth=b.cachedepth||5;RA.pageText=b.pagetext||"of";var c=b.older||"Older";var a=b.newer||"Newer";var d=b.loading||"Loading";jQuery(RA.content).before('		<div id="rollingarchivesbg"></div>		<div id="rollingarchives">			<div id="rollnavigation">				<div id="pagetrackwrap"><div id="pagetrack"><div id="pagehandle"><div id="rollhover"><div id="rolldates"></div></div></div></div></div>								<div id="rollpages"></div>								<a id="rollprevious" title="'+c+'" href="#"><span>&laquo;</span> '+c+'</a>				<div id="rollload" title="'+d+'"><span>'+d+'</span></div>				<a id="rollnext" title="'+a+'" href="#">'+a+' <span>&raquo;</span></a>								<div id="texttrimmer">					<div id="trimmertrim"><span>&raquo;&nbsp;&laquo;</span></div>					<div id="trimmeruntrim"><span>&laquo;&nbsp;&raquo;</span></div>				</div>			</div> <!-- #rollnavigation -->		</div> <!-- #rollingarchives -->	');
RA.setState(b.pagenumber,b.pagecount,b.query,b.pagedates);RA.saveState();jQuery("#rollnext").click(function(){RA.pageSlider.setValueBy(1);return false});jQuery("#rollprevious").click(function(){RA.pageSlider.setValueBy(-1);return false});jQuery("#trimmertrim, #trimmeruntrim").click(function(){if(K2.Animations){jQuery(".entry-content").slideToggle(250,"easeOutExpo")}jQuery("body").toggleClass("trim")});RA.assignHotkeys();jQuery("body").addClass("rollingarchives");RA.smartPosition(RA.parent)}RollingArchives.prototype.setState=function(a,c,b,d){RA.pageNumber=a;
RA.pageCount=c;RA.query=b;RA.pageDates=d;if(RA.validatePage(RA.pageNumber)){jQuery("body").removeClass("hiderollingarchives").addClass("showrollingarchives");jQuery("#rollingarchives").show();jQuery("#rollload, #rollhover").hide();RA.pageSlider=new K2Slider("#pagehandle","#pagetrackwrap",{minimum:1,maximum:RA.pageCount,value:RA.pageCount-RA.pageNumber+1,onSlide:function(e){jQuery("#rollhover").show();RA.updatePageText(RA.pageCount-e+1)},onChange:function(e){RA.updatePageText(RA.pageCount-e+1);RA.gotoPage(RA.pageCount-e+1)
}});RA.updatePageText(RA.pageNumber)}else{jQuery("body").removeClass("showrollingarchives").addClass("hiderollingarchives")}RA.resetCache()};RollingArchives.prototype.saveState=function(){RA.prevPageNumber=RA.pageNumber;RA.prevPageCount=RA.pageCount;RA.prevQuery=RA.query;RA.prevPageDates=RA.pageDates;RA.prevContent=jQuery(RA.content).html()};RollingArchives.prototype.restoreState=function(){if(RA.prevContent!=""){jQuery("body").removeClass("livesearchactive").addClass("livesearchinactive");jQuery(RA.content).html(RA.prevContent);
jQuery.bbq.pushState("#page="+RA.prevPageNumber);RA.setState(RA.prevPageNumber,RA.prevPageCount,RA.prevQuery,RA.prevPageDates)}};RollingArchives.prototype.updatePageText=function(a){jQuery("#rollpages").html(a+" "+RA.pageText+" "+RA.pageCount);jQuery("#rolldates").html(RA.pageDates[a-1])};RollingArchives.prototype.validatePage=function(a){var a=parseInt(a);if(!isNaN(a)&&RA.pageCount>1){if(a>=RA.pageCount){jQuery("body").removeClass("onepageonly firstpage nthpage").addClass("lastpage");return RA.pageCount
}else{if(a<=1){jQuery("body").removeClass("onepageonly nthpage lastpage").addClass("firstpage");return 1}else{jQuery("body").removeClass("onepageonly firstpage lastpage").addClass("nthpage");return a}}}jQuery("body").removeClass("firstpage nthpage lastpage").addClass("onepageonly");return 0};RollingArchives.prototype.loading=function(a){if(a=="start"){jQuery("body").addClass("rollload")}else{jQuery("body").removeClass("rollload")}};RollingArchives.prototype.gotoPage=function(b){var a=RA.validatePage(b);
if(a!=RA.pageNumber&&a!=0){RA.lastPage=RA.pageNumber;RA.pageNumber=a;jQuery.bbq.pushState("page="+a);RA.loading("start");if(K2.Animations){RA.flashElement(a>RA.lastPage?"#rollprevious":"#rollnext")}if(K2.Animations&&(RA.pageNumber!=1)&&jQuery("body").hasClass("smartposition")){jQuery("html,body").animate({scrollTop:jQuery(RA.parent).offset().top},100)}jQuery.extend(RA.query,{paged:RA.pageNumber,k2dynamic:1});if(RA.cache[RA.pageNumber]==undefined){K2.ajaxGet(RA.query,function(d){jQuery("#rollhover").fadeOut("slow");
RA.loading("stop");jQuery(RA.content).html(d)})}else{jQuery("#rollhover").fadeOut("slow");RA.loading("stop");jQuery(RA.content).html(RA.cache[RA.pageNumber])}RA.updateCache()}if(a==1){jQuery("body").removeClass("trim");var c=jQuery(window).scrollTop();jQuery.bbq.removeState("page");jQuery(window).scrollTop(c)}};RollingArchives.prototype.resetCache=function(){RA.cache=new Array()};RollingArchives.prototype.updateCache=function(){var d=RA.pageNumber-RA.cacheDepth;var c=RA.pageNumber+RA.cacheDepth;if(d<1){d=1
}if(c>RA.pageCount){c=RA.pageCount}for(var b=d;b<=c;b++){if(b==RA.pageNumber){continue}if(RA.cache[b]==undefined){jQuery.extend(RA.query,{paged:b,k2dynamic:1});(function(e){K2.ajaxGet(RA.query,function(f){RA.cache[e]=f})})(b)}}if(RA.cache.length>0){for(var a=0;a<RA.cache.length;a++){if(a>=(d-1)&&a<=(c+1)){continue}delete RA.cache[a]}}};RollingArchives.prototype.smartPosition=function(b,a){RA.parentTop=jQuery(b).offset().top;RA.smartPosClass="smartposition";if(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7){return
}if(a!="bottom"){setTimeout(RA.checkTop,100);jQuery(window).scroll(RA.checkTop)}else{setTimeout(RA.checkTop,100);jQuery(window).scroll(RA.checkBottom).resize(RA.checkBottom).onload(RA.checkBottom)}};RollingArchives.prototype.checkBottom=function(){if((document.documentElement.scrollTop+document.documentElement.clientHeight||document.body.scrollTop+document.documentElement.clientHeight)>=RA.parentTop&&jQuery("body").hasClass("showrollingarchives")){jQuery("body").addClass(RA.smartPosClass)}else{jQuery("body").removeClass(RA.smartPosClass)
}};RollingArchives.prototype.checkTop=function(){if(jQuery(document).scrollTop()>=RA.parentTop&&jQuery("body").hasClass("showrollingarchives")){jQuery("body").addClass(RA.smartPosClass)}else{jQuery("body").removeClass(RA.smartPosClass)}};RollingArchives.prototype.scrollTo=function(b,d,a){jQuery(window).unbind("scroll.scrolldetector");jQuery("html, body").stop();RA.nextIndex=(a!=undefined?a:RA.nextIndex);if(RA.nextIndex==undefined){jQuery(b).each(function(f){if(jQuery(this).offset().top-RA.offset>jQuery(window).scrollTop()){RA.nextIndex=(d===1?f-1:f);
return false}})}if(d===-1&&RA.pageNumber===1&&RA.nextIndex===0){return}RA.nextIndex=RA.nextIndex+d;if((RA.nextIndex>jQuery(b).length-1)||RA.nextIndex<0){RA.nextIndex=undefined;RA.pageSlider.setValueBy(-d);RA.flashElement(d===1?"#rollprevious":"#rollnext")}RA.nextElement=jQuery(b).eq(RA.nextIndex);var e=RA.nextElement.offset().top-RA.offset;var c=(jQuery.browser.safari)?jQuery("body"):jQuery("html");c.animate({scrollTop:e},(K2.Animations?150:0),"easeOutExpo",function(){RA.nextElement.effect("highlight",{color:"#dddddd"},1500)
})};RollingArchives.prototype.flashElement=function(b){if(jQuery(b+":animated").length>0||!K2.Animations){return}var a=parseInt(jQuery(b).css("font-size"));jQuery(b).animate({fontSize:a*2},0,"linear",function(){jQuery(b).animate({fontSize:a},150,"easeOutQuad")})};RollingArchives.prototype.assignHotkeys=function(){jQuery(document).bind("keydown.hotkeys","J",function(){RA.scrollTo(RA.posts,1)});jQuery(document).bind("keydown.hotkeys","K",function(){RA.scrollTo(RA.posts,-1)});jQuery(document).bind("keydown.hotkeys","Return",function(){if(jQuery(RA.nextElement).length>0){jQuery(RA.nextElement).stop(true,true).effect("highlight",{color:"#eee"},150).children(".entry-title a").click()
}});jQuery(document).bind("keydown.hotkeys","E",function(){if(jQuery(".selected").length>0){jQuery(".selected a.post-edit-link").click();RA.flashElement(".selected a.post-edit-link")}});jQuery(document).bind("keydown.hotkeys","Esc",function(){jQuery(window).unbind("scroll.scrolldetector");jQuery("*").removeClass("selected");RA.nextIndex=undefined});jQuery(document).bind("keydown.hotkeys","H",function(){RA.gotoPage(1)});jQuery(document).bind("keydown.hotkeys","T",function(){jQuery("#texttrimmer div:visible").click()
});jQuery(document).bind("keydown.hotkeys","Left",function(){RA.pageSlider.setValueBy(-1)});jQuery(document).bind("keydown.hotkeys","Right",function(){RA.pageSlider.setValueBy(1)})};

// k2.livesearch.js
function LiveSearch(a){var b=this;jQuery("body").addClass("livesearch");this.searchPrompt=a;this.searchform=jQuery("#searchform");this.searchField=jQuery("#s");this.reset=jQuery("#searchreset");this.loading=jQuery("#searchload");this.searchLabel=jQuery("#search-label");jQuery("#searchsubmit").addClass("hidden");this.searchLabel.empty().text(a).addClass("overlabel-apply");this.searchField.focus(function(){b.searchLabel.addClass("fade")}).blur(function(){if(b.searchField.val()==""){b.searchLabel.show().removeClass("fade");
if(b.prevSearch!=""){b.resetSearch(b)}}}).keydown(function(d){if(b.searchField.val()==""){b.searchLabel.show();if(b.prevSearch!=null){b.resetSearch(b)}}var c=d.keyCode;if(c==27){b.resetSearch(b)}else{if(c!=13&&c!=9){b.searchLabel.addClass("hide");if(b.timer){clearTimeout(b.timer)}b.timer=setTimeout(function(){b.doSearch(b)},1000)}}}).keyup(function(d){var c=d.keyCode;if(c!=13){if(b.searchField.val()==""){b.resetSearch(b);clearTimeout(b.timer)}else{b.reset.fadeTo("fast",0);b.loading.fadeTo("fast",1)
}}});if(this.searchField.val()!=""){this.doSearch(b);this.searchLabel.addClass("hide")}b.loading.fadeTo("fast",0);b.reset.fadeTo("fast",0)}LiveSearch.prototype.doSearch=function(a){if(a.searchField.val()==a.prevSearch){return}if(a.prevSearch&&(a.searchField.val()!=a.prevSearch)){jQuery.bbq.removeState("page")}if(a.searchField.val()==""){a.searchField.val(jQuery.deparam.fragment().search);a.searchLabel.addClass("hide")}if(!a.active){a.active=true;jQuery("body").removeClass("livesearchinactive").addClass("livesearchactive");
if(K2.RollingArchives.saveState){K2.RollingArchives.saveState()}}a.prevSearch=a.searchField.val();if(K2.Animations&&a.pageNumber!=1&&jQuery("body").hasClass("smartposition")){jQuery("html,body").animate({scrollTop:jQuery(".primary").offset().top},100)}jQuery.bbq.pushState("search="+a.searchField.val());K2.ajaxGet(a.searchform.serialize()+"&k2dynamic=init",function(b){jQuery(".content").html(b);a.loading.fadeTo("fast",0)});a.reset.click(function(){a.resetSearch(a)}).fadeTo("fast",1).css("cursor","pointer")
};LiveSearch.prototype.resetSearch=function(a){a.reset.unbind("click").fadeTo("fast",0).css("cursor","default");delete K2.RollingArchives.query.s;a.active=false;a.prevSearch="";a.searchField.val("");a.searchLabel.removeClass("hide");a.loading.fadeTo("fast",0);var b=jQuery(window).scrollTop();jQuery.bbq.removeState("search");jQuery(window).scrollTop(b);if(K2.RollingArchives.restoreState){K2.RollingArchives.restoreState()}};